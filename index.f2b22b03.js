const e={formRef:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),morePhotoBtn:document.querySelector('[data-action="load-more"]')};function t(e){return e.map((({webformatURL:e,likes:t,views:s,comments:n,downloads:i})=>`<div class="photo-card">\n  <img src="${e}" alt="" width="440" height="300"/>\n\n  <div class="stats">\n    <p class="stats-item">\n      <i class="material-icons">thumb_up</i>\n      ${t}\n    </p>\n    <p class="stats-item">\n      <i class="material-icons">visibility</i>\n      ${s}\n    </p>\n    <p class="stats-item">\n      <i class="material-icons">comment</i>\n      ${n}\n    </p>\n    <p class="stats-item">\n      <i class="material-icons">cloud_download</i>\n      ${i}\n    </p>\n  </div>\n</div>`)).join("")}const s=new class{fetchPhoto(e){return console.log(this),fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=26979018-8f50a5ae15f0c572be2195341`).then((e=>e.json())).then((({hits:e})=>(this.page+=1,e)))}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}},n=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Load more",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Loaing...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0});function i(){n.disable(),s.fetchPhoto().then((s=>{!function(s){e.gallery.insertAdjacentHTML("beforeend",t(s))}(s),n.enable()}))}e.formRef.addEventListener("submit",(function(t){if(t.preventDefault(),s.query=t.currentTarget.elements.query.value,""===s.query)return alert("Введіть параметр пошуку");n.show(),s.resetPage(),e.gallery.innerHTML="",i()})),e.morePhotoBtn.addEventListener("click",i);
//# sourceMappingURL=index.f2b22b03.js.map
